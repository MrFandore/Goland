# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ14: Unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π (testing, testify)

`–§–ò–û`: –ö–æ–∑–∏–Ω –ì–µ–æ—Ä–≥–∏–π –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á

`–ì—Ä—É–ø–ø–∞`: –ü–ò–ú–û-01-25

## –¶–µ–ª—å:
>üéØ –¶–µ–ª—å: Unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π (testing, testify)
---

> üí° Important: –í —Ü–µ–ª—è—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, –±—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —Å–æ–∑–¥–∞—Ç—å –æ–¥–∏–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –¥–∏—Ä–∏–∫—Ç–æ—Ä–∏—è–º–∏
> –¥–æ–º–∞—à–Ω–∏—Ö —Ä–∞–±–æ—Ç.
---

## –ó–∞–¥–∞–Ω–∏–µ:
* –û—Å–≤–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏—ë–º—ã unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Go —Å –ø–æ–º–æ—â—å—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞ testing.
* –ù–∞—É—á–∏—Ç—å—Å—è –ø–∏—Å–∞—Ç—å —Ç–∞–±–ª–∏—á–Ω—ã–µ —Ç–µ—Å—Ç—ã, –ø–æ–¥–∑–∞–¥–∞—á–∏ t.Run, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ –ø–∞–Ω–∏–∫–∏.
* –û—Å–≤–æ–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π testify (assert, require) –¥–ª—è –ª–∞–∫–æ–Ω–∏—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.
* –ù–∞—É—á–∏—Ç—å—Å—è –∏–∑–º–µ—Ä—è—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ (go test -cover) –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å html-–æ—Ç—á—ë—Ç –ø–æ–∫—Ä—ã—Ç–∏—è.
* –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –∏ –æ–±—â–∏–π —á–µ–∫-–ª–∏—Å—Ç –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤.



### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ cmd
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ api
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ main.go
‚îú‚îÄ‚îÄ docker-compose.yaml
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ go.sum
‚îî‚îÄ‚îÄ internal
    ‚îú‚îÄ‚îÄ config
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ config.go
    ‚îú‚îÄ‚îÄ model
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ note.go
    ‚îú‚îÄ‚îÄ pagination
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ cursor.go
    ‚îú‚îÄ‚îÄ storage
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ postgres
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ queries.go
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ repo.go
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ redis
    ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ cache.go
    ‚îî‚îÄ‚îÄ transport
        ‚îî‚îÄ‚îÄ http
            ‚îú‚îÄ‚îÄ handlers.go
            ‚îú‚îÄ‚îÄ respond.go
            ‚îî‚îÄ‚îÄ server.go
```

#### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
1) –ö–ª–æ–Ω–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/CyberGeo335/pish_golang.git
```
2) –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ Go –∏ Git –µ—Å—Ç—å:

```bash
pish_golang % cd Practica_15
Practica_15 % go version
go version go1.23.2 darwin/arm64
Practica_15 % git --version
git version 2.39.5 (Apple Git-154)
Practica_15 % 
```

3) –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø—è—Ç–Ω–∞–¥—Ü–∞—Ç—É—é —Ä–∞–±–æ—Ç—É:

```bash
cd Practica_15/cmd
```

4) –ó–∞–ø—É—Å–∫ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ:
```bash
go build -o bin/Practica_15 ./cmd/api/

nohup ./bin/Practica_15 >Practica_15.log 2>&1 &
```
5) –ö–æ–º–∞–Ω–¥—ã –∏ –ª–æ–≥–∏:
```bash
go test ./...
```

![–°–∫—Ä–∏–Ω—à–æ—Ç](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-12-12%20–≤%2016.44.09.png)

```bash
go test -v ./internal/...
```

![–°–∫—Ä–∏–Ω—à–æ—Ç](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-12-12%20–≤%2016.44.50.png)

```bash
go test -cover ./...
```

![–°–∫—Ä–∏–Ω—à–æ—Ç](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-12-12%20–≤%2016.47.34.png)


```bash
go test -coverprofile=coverage.out ./...
go tool cover -html=coverage.out
```

![–°–∫—Ä–∏–Ω—à–æ—Ç](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-12-12%20–≤%2016.49.31.png)