# Практика 3 - HTTP Сервер с задачами

## Структура проекта
```
pz3-http/
├── cmd/
│   └── server/
│       └── main.go
├── internal/
│   ├── api/
│   │   ├── handlers.go
│   │   ├── middleware.go
│   │   └── responses.go
│   └── storage/
│       └── memory.go
├── go.mod
└── README.md
```

## Описание файлов
- **cmd/server/main.go** - главный файл для запуска сервера
- **internal/api/handlers.go** - обработчики запросов для задач
- **internal/api/middleware.go** - логирование запросов
- **internal/api/responses.go** - вспомогательные функции для ответов
- **internal/storage/memory.go** - хранение задач в памяти
- **go.mod** - файл зависимостей Go

## Запуск проекта

### 1. Скачайте проект
```bash
git clone https://github.com/MrFandore/Goland.git
cd Goland/Practica_3
```

### 2. Установите зависимости
```bash
go mod download
```

### 3. Запустите сервер
```bash
go run cmd/server/main.go
```

### 4. Настройка порта (опционально)
```bash
# Для порта 9090 вместо 8080
set PORT=9090
go run cmd/server/main.go
```

## Проверка работы

После запуска сервер доступен по адресу: http://localhost:8080

### Доступные эндпоинты:

**Проверка здоровья сервера:**
```
GET /health
```
Ожидаемый результат: `{"status":"ok"}`

**Получить список задач:**
```
GET /tasks
```
Ожидаемый результат: список всех задач в формате JSON

**Поиск задач:**
```
GET /tasks?q=текст
```
Ожидаемый результат: отфильтрованный список задач

**Создать новую задачу:**
```
POST /tasks
```
Тело запроса: `{"title":"Название задачи"}`

**Получить задачу по ID:**
```
GET /tasks/1
```
Ожидаемый результат: информация о задаче с ID=1

## Примеры тестирования

### Через браузер:
- Откройте `http://localhost:8080/health`
- Откройте `http://localhost:8080/tasks`

### Через командную строку:
```bash
# Проверка здоровья
curl http://localhost:8080/health

# Получить список задач
curl http://localhost:8080/tasks

# Создать задачу
Invoke-WebRequest -Uri http://localhost:8080/tasks `
-Method POST `
-Headers @{"Content-Type"="application/json"} `
-Body '{"title":"Купить молоко"}'

# Найти задачи
curl "http://localhost:8080/tasks?q=молоко"

# Получить задачу по ID
curl http://localhost:8080/tasks/1
```

## Особенности проекта
- Хранение задач в оперативной памяти (данные сбрасываются при перезапуске)
- Логирование всех запросов с временем выполнения
- Поддержка фильтрации задач по названию
- Валидация входных данных
- Корректные HTTP статусы и заголовки

## Требования
- Установленный Go версии 1.21 или выше
- Установленный Git

## Решение проблем

**Порт занят:**
Измените порт через переменную окружения PORT

**Go не установлен:**
Скачайте и установите Go с https://golang.org/dl/

**Файлы не найдены:**
Убедитесь, что вы в папке Practica_3 и присутствует файл go.mod

## Остановка сервера
Нажмите Ctrl+C в командной строке где запущен сервер
